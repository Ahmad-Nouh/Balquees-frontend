<nb-flip-card class="our-flip-card" [showToggleButton]="false" [flipped]="isFlipped">
    <nb-card-front class="row">
        <nb-card class="main-card col-md-12">
            <nb-card-header class="text-heading text-primary card-title">
                {{ 'PAGES.ProductsCards.productsCards' | translate }}
            </nb-card-header>
            <nb-card-body>
                <app-products-cards-table [datasource]="productsCardsService.productCards" (onCreate)="onCreateProductCard($event)" (onEdit)="onEditProductCard($event);"
                    (onDelete)="onDeleteProductCard(dialog ,$event);">
                </app-products-cards-table>
                <!-- delete modal -->
                <ng-template #dialog let-data let-ref="dialogRef">
                    <nb-card class="popup">
                        <nb-card-header>{{ 'PAGES.Common.alert' | translate }}</nb-card-header>
                        <nb-card-body>
                            <p>{{ data.message | translate }}</p>
                        </nb-card-body>
                        <nb-card-footer>
                            <button nbButton status="success"
                                (click)="onConfirmDelete(data.id, ref)">{{ 'PAGES.Common.yes' | translate }}</button>
                            <button nbButton (click)="ref.close()">{{ 'PAGES.Common.no' | translate }}</button>
                        </nb-card-footer>
                    </nb-card>
                </ng-template>
            </nb-card-body>
        </nb-card>
    </nb-card-front>
    <nb-card-back>
        <nb-card *ngIf="isAdd;else details" class="col-md-12 p-0">
            <nb-card-body class="p-0">
                <app-product-card-stepper [formTitle]="formTitle" (onBack)="onClickBack($event, true)"></app-product-card-stepper>
            </nb-card-body>
        </nb-card>
        
        <ng-template #details>
            <nb-card class="col-md-12 p-0">
                <nb-card-body class="p-0">
                    <app-product-card-details [formTitle]="formTitle" (onBack)="onClickBack($event, false)"></app-product-card-details>
                </nb-card-body>
            </nb-card>
        </ng-template>
    </nb-card-back>
</nb-flip-card>